import{c as L,h as W,d as U}from"./render.ce2d7a1b.js";import{c as h,h as v,a as H,g as q,l as R,R as O,S as j,r as w,U as K,p as x,w as Y,b as k,f as I,P as M}from"./index.f310304c.js";import{Q as N}from"./QScrollObserver.893b3969.js";import{Q as B}from"./QResizeObserver.0b3ff8fa.js";import{b as T}from"./config.7e38babc.js";var V=L({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(n,{slots:y}){const{proxy:{$q:c}}=q(),e=H(R);H(O,()=>{console.error("QPage needs to be child of QPageContainer")});const u=h(()=>{const r=(e.header.space===!0?e.header.size:0)+(e.footer.space===!0?e.footer.size:0);if(typeof n.styleFn=="function"){const m=e.isContainer.value===!0?e.containerHeight.value:c.screen.height;return n.styleFn(r,m)}return{minHeight:e.isContainer.value===!0?e.containerHeight.value-r+"px":c.screen.height===0?r!==0?`calc(100vh - ${r}px)`:"100vh":c.screen.height-r+"px"}}),o=h(()=>`q-page ${n.padding===!0?" q-layout-padding":""}`);return()=>v("main",{class:o.value,style:u.value},W(y.default))}}),X=L({name:"QPageContainer",setup(n,{slots:y}){const{proxy:{$q:c}}=q(),e=H(R,()=>{console.error("QPageContainer needs to be child of QLayout")});j(O,!0);const u=h(()=>{const o={};return e.header.space===!0&&(o.paddingTop=`${e.header.size}px`),e.right.space===!0&&(o[`padding${c.lang.rtl===!0?"Left":"Right"}`]=`${e.right.size}px`),e.footer.space===!0&&(o.paddingBottom=`${e.footer.size}px`),e.left.space===!0&&(o[`padding${c.lang.rtl===!0?"Right":"Left"}`]=`${e.left.size}px`),o});return()=>v("div",{class:"q-page-container",style:u.value},W(y.default))}}),Z=L({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:n=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(n.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(n,{slots:y,emit:c}){const{proxy:{$q:e}}=q(),u=w(null),o=w(e.screen.height),r=w(n.container===!0?0:e.screen.width),m=w({position:0,direction:"down",inflectionPoint:0}),l=w(0),s=w(K.value===!0?0:T()),b=h(()=>"q-layout q-layout--"+(n.container===!0?"containerized":"standard")),S=h(()=>n.container===!1?{minHeight:e.screen.height+"px"}:null),$=h(()=>s.value!==0?{[e.lang.rtl===!0?"left":"right"]:`${s.value}px`}:null),Q=h(()=>s.value!==0?{[e.lang.rtl===!0?"right":"left"]:0,[e.lang.rtl===!0?"left":"right"]:`-${s.value}px`,width:`calc(100% + ${s.value}px)`}:null);function C(t){if(n.container===!0||document.qScrollPrevented!==!0){const a={position:t.position.top,direction:t.direction,directionChanged:t.directionChanged,inflectionPoint:t.inflectionPoint.top,delta:t.delta.top};m.value=a,n.onScroll!==void 0&&c("scroll",a)}}function i(t){const{height:a,width:p}=t;let z=!1;o.value!==a&&(z=!0,o.value=a,n.onScrollHeight!==void 0&&c("scroll-height",a),g()),r.value!==p&&(z=!0,r.value=p),z===!0&&n.onResize!==void 0&&c("resize",t)}function f({height:t}){l.value!==t&&(l.value=t,g())}function g(){if(n.container===!0){const t=o.value>l.value?T():0;s.value!==t&&(s.value=t)}}let d;const F={instances:{},view:h(()=>n.view),isContainer:h(()=>n.container),rootRef:u,height:o,containerHeight:l,scrollbarWidth:s,totalWidth:h(()=>r.value+s.value),rows:h(()=>{const t=n.view.toLowerCase().split(" ");return{top:t[0].split(""),middle:t[1].split(""),bottom:t[2].split("")}}),header:x({size:0,offset:0,space:!1}),right:x({size:300,offset:0,space:!1}),footer:x({size:0,offset:0,space:!1}),left:x({size:300,offset:0,space:!1}),scroll:m,animate(){d!==void 0?clearTimeout(d):document.body.classList.add("q-body--layout-animate"),d=setTimeout(()=>{document.body.classList.remove("q-body--layout-animate"),d=void 0},155)},update(t,a,p){F[t][a]=p}};if(j(R,F),T()>0){let p=function(){t=null,a.classList.remove("hide-scrollbar")},z=function(){if(t===null){if(a.scrollHeight>e.screen.height)return;a.classList.add("hide-scrollbar")}else clearTimeout(t);t=setTimeout(p,300)},P=function(E){t!==null&&E==="remove"&&(clearTimeout(t),p()),window[`${E}EventListener`]("resize",z)},t=null;const a=document.body;Y(()=>n.container!==!0?"add":"remove",P),n.container!==!0&&P("add"),k(()=>{P("remove")})}return()=>{const t=U(y.default,[v(N,{onScroll:C}),v(B,{onResize:i})]),a=v("div",{class:b.value,style:S.value,ref:n.container===!0?void 0:u,tabindex:-1},t);return n.container===!0?v("div",{class:"q-layout-container overflow-hidden",ref:u},[v(B,{onResize:f}),v("div",{class:"absolute-full",style:$.value},[v("div",{class:"scroll",style:Q.value},[a])])]):a}}}),ee=L({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(n,{slots:y,emit:c}){let e=!1,u,o,r,m,l,s;function b(){u&&u(),u=null,e=!1,clearTimeout(r),clearTimeout(m),o!==void 0&&o.removeEventListener("transitionend",l),l=null}function S(i,f,g){i.style.overflowY="hidden",f!==void 0&&(i.style.height=`${f}px`),i.style.transition=`height ${n.duration}ms cubic-bezier(.25, .8, .50, 1)`,e=!0,u=g}function $(i,f){i.style.overflowY=null,i.style.height=null,i.style.transition=null,b(),f!==s&&c(f)}function Q(i,f){let g=0;o=i,e===!0?(b(),g=i.offsetHeight===i.scrollHeight?0:void 0):s="hide",S(i,g,f),r=setTimeout(()=>{i.style.height=`${i.scrollHeight}px`,l=d=>{(Object(d)!==d||d.target===i)&&$(i,"show")},i.addEventListener("transitionend",l),m=setTimeout(l,n.duration*1.1)},100)}function C(i,f){let g;o=i,e===!0?b():(s="show",g=i.scrollHeight),S(i,g,f),r=setTimeout(()=>{i.style.height=0,l=d=>{(Object(d)!==d||d.target===i)&&$(i,"hide")},i.addEventListener("transitionend",l),m=setTimeout(l,n.duration*1.1)},100)}return I(()=>{e===!0&&b()}),()=>v(M,{css:!1,appear:n.appear,onEnter:Q,onLeave:C},y.default)}});export{ee as Q,Z as a,V as b,X as c};
